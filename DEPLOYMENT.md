# הוראות פריסה לפרויקט ניהול משמרות

## תוכן העניינים
1. [פריסת הפרונטאנד בנטליפיי](#פריסת-הפרונטאנד-בנטליפיי)
2. [פריסת השרת בRender](#פריסת-השרת-ברנדר)
3. [קישור השרת והפרונטאנד](#קישור-השרת-והפרונטאנד)
4. [שימוש במצב דמו](#שימוש-במצב-דמו)

## פריסת הפרונטאנד בנטליפיי

1. צור חשבון ב[נטליפיי](https://netlify.com/) אם אין לך עדיין.
2. לחץ על כפתור "New site from Git" בלוח המחוונים.
3. בחר את ספק ה-Git שלך (GitHub, GitLab, או Bitbucket).
4. בחר את המאגר של הפרויקט שלך.
5. הגדר את ההגדרות הבאות:
   - **Base directory**: השארת ריק
   - **Build command**: `npm run build`
   - **Publish directory**: `dist/public`
   - **Environment variables**: 
     - הוסף `VITE_USE_MOCK_DATA`: `true` אם אתה רוצה להשתמש במצב דמו
     - הוסף `VITE_API_URL`: `https://your-api-server.render.com` (אם יש לך URL של שרת)

6. לחץ על "Deploy site".

## פריסת השרת בRender

1. צור חשבון ב[Render](https://render.com/) אם אין לך עדיין.
2. לחץ על "New" ואז "Web Service".
3. בחר את המאגר של הפרויקט שלך (או העלה אותו באופן ידני).
4. הגדר את ההגדרות הבאות:
   - **Name**: בחר שם (לדוגמה, "shifts-app-backend")
   - **Environment**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `npm run start`
   - **Environment Variables**:
     - `NODE_ENV`: `production`
     - הוסף משתנה סביבה נוסף לפי הצורך

5. לחץ על "Create Web Service".

## קישור השרת והפרונטאנד

לאחר שהפרסת את השרת ב-Render, עליך לקשר את הפרונטאנד לשרת:

1. קבל את ה-URL של השרת ב-Render (נראה כמו `https://your-app.onrender.com`).
2. חזור להגדרות האתר בנטליפיי.
3. תחת "Site settings" > "Build & deploy" > "Environment", הוסף/עדכן את משתנה הסביבה `VITE_API_URL` לערך ה-URL של השרת שלך.
4. לחץ על "Trigger deploy" כדי להפעיל מחדש את הפריסה עם ההגדרות החדשות.

## שימוש במצב דמו

אם אין לך שרת API זמין, המערכת כוללת מצב דמו שמאפשר לך לבדוק את הפונקציונליות של הפרונטאנד:

1. ודא שיש לך משתנה סביבה `VITE_USE_MOCK_DATA` מוגדר כ-`true` בהגדרות הפריסה שלך.
2. במצב דמו:
   - אימות משתמש יעבוד עם כל ID שהוא באורך 8 תווים או יותר
   - אפשר להשתמש ב-ID `204248272` כדי לקבל שם ספציפי
   - רשימות רופאים/מדריכים יהיו קבועות מראש
   - הטפסים שיוגשו יישמרו ב-localStorage של הדפדפן

שים לב: נתונים שנשמרים במצב דמו לא נשלחים לשרת או לגיליונות גוגל.

## פתרון בעיות

- **שגיאות CORS**: ודא שהשרת ב-Render מוגדר לקבל בקשות מהדומיין שלך בנטליפיי.
- **שגיאות חיבור**: בדוק שה-URL של השרת נכון ושהשרת פעיל.
- **בעיות פריסה**: בדוק את הלוגים של הפריסה בנטליפיי ו-Render לאיתור שגיאות.

## עדכון גרסאות

כאשר אתה עושה שינויים בקוד:

1. עדכן את המאגר ב-GitHub.
2. נטליפיי ו-Render ייבנו מחדש את האתר באופן אוטומטי (אם הגדרת פריסות אוטומטיות).